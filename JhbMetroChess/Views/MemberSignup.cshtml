@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    Layout = "Master.cshtml";
}
@section title {@CurrentPage.pageTitle}
<section class="dark-wrapper opaqued parallax" data-parallax="scroll" data-image-src="@Umbraco.Media((string)CurrentPage.primarybanner).Url" data-speed="0.8">
    <div class="section-inner">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 mt30 text-center wow fadeIn" data-wow-delay="0.2s">
                    <div id="bannertext">
						<h2 class="section-heading">@CurrentPage.Name</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="ContactUs" class="opaqued light-opaqued parallax" data-parallax="scroll" data-image-src="@Umbraco.Media((string)CurrentPage.secondarybanner).Url" data-speed="0.8">
	<div class="section-inner">
		<div class="container">
			<div class="row">
				<div class="col-xs-10">
					<h2 class="post-title">@CurrentPage.Name</h2>
				</div>
				<div class="col-xs-10 post-center single-post-content">
					<div class="mb50">
						@CurrentPage.content
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<section id="MemberSignup" class="opaqued light-opaqued parallax" data-parallax="scroll" data-image-src="@Umbraco.Media((string)CurrentPage.secondarybanner).Url" data-speed="0.8">
	<div class="section-inner">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div id="message"></div>
					<form method="post" action="/umbraco/surface/MemberSignup/PostMemberSignup" id="memberSignupForm" class="main-contact-form wow fadeIn" data-wow-delay="0.2s" enctype="multipart/form-data">
						<input type="text" class="form-control col-md-4" name="FirstName" id="FirstName" placeholder="First Name *" required data-validation-required-message="Please enter your first name." />
						<input type="text" class="form-control col-md-4" name="Surname" id="Surname" placeholder="Surname *" required data-validation-required-message="Please enter your surname." />
						<input type="text" class="form-control col-md-4" name="ChessaId" id="ChessaId" placeholder="CHESSA ID*" required data-validation-required-message="Please enter your CHESSA ID." />
						<input type="text" class="form-control col-md-4" name="DateOfBirth" id="DateOfBirth" placeholder="Date of Birth *" required data-validation-required-message="Please enter your Date of Birth." />
						<input type="text" class="form-control col-md-4" name="Gender" id="Gender" placeholder="Gender *" required data-validation-required-message="Please enter your Gender." />
						<input type="text" class="form-control col-md-4" name="EmailAddress" id="EmailAddress" placeholder="Email Address *" required data-validation-required-message="Please enter your Email Address" />
						<input type="text" class="form-control col-md-4" name="PhoneNumber" id="PhoneNumber" placeholder="Phone Number *" required data-validation-required-message="Please enter your Phone Number." />
						<input type="text" class="form-control col-md-4" name="Club" id="Club" placeholder="Club *" required data-validation-required-message="Please enter your Club." />
						<input type="text" class="form-control col-md-4" name="School" id="School" placeholder="School/University" required data-validation-required-message="Please enter your School or University" />

						<h3>Minors</h3>
						<p>If a Prospective member is a minor, we require the following information of the parent for verification purporses.</p>
						<input type="text" class="form-control col-md-4" name="Occupation" id="Occupation" placeholder="Occupation" required data-validation-required-message="For verification purposes" />
						<input type="text" class="form-control col-md-4" name="Employer" id="Employer" placeholder="Employer" required data-validation-required-message="For verification purposes" />

						<textarea name="Note" class="form-control" id="Note" placeholder="Aditional notes"></textarea>
						<input class="btn btn-primary mt30 pull-right" type="submit" name="submit" value="Submit" />
					</form>
				</div>
			</div>
		</div>
	</div>
</section>



@section Scripts
{
	<script type="text/javascript">
		$('#memberSignupForm').submit(function () {
		var action = $(this).attr('action');
		$("#memberSignupForm").slideUp(750, function () {
			$('#memberSignupForm').hide();
			$('#submit').attr('disabled', 'disabled');
			$.post(action, {
				FirstName: $('#FirstName').val(),
				Surname: $('#Surname').val(),
				ChessaId: $('#ChessaId').val(),
				DateOfBirth: $('#DateOfBirth').val(),
				Gender: $('#Gender').val(),
				EmailAddress: $('#EmailAddress').val(),
				PhoneNumber: $('#PhoneNumber').val(),
				Club: $('#Club').val(),
				Section: $('#Section').val(),
				Note: $('#Note').val()
			},
				function (data) {
			  	debugger;
			  	document.getElementById('message').innerHTML = data;
			  	$('#message').slideDown('slow');
			  	$('#submit').removeAttr('disabled');
			  	if (data.match('success') != null) $('#memberSignupForm').slideUp('slow');
			  	$(window).trigger('resize');
				}
			);
		});
		return false;
		});
	</script>
}